<div class="main">
    <div class="row mx-1">
      <div class="col-md-8 col-sm-6 offset-sm-3 col-md-8 offset-md-2 my-2">
        <h1 class="text-center">My Cart</h1>
        <div *ngIf="products.length > 0">
          <div
            class="row justify-content-between align-items-center rounded bg-white p-2 px-4 my-3 mx-2 mx-md-0"
            *ngFor="let product of products; index as i"
          >
            <div class="col-md-5">
             <div class="d-flex justify-content-around align-items-center">
                <div class="mx-4 mx-xs-4">
                    <img
                      [attr.data-testid]="'cart-image-' + i"
                      src="{{ product.image }}"
                      alt=""
                      height="60px"
                    />
                  </div>
                  <div class="d-flex flex-column ms-xs-4 ">
                    <div [attr.data-testid]="'cart-model-' + i">
                      {{ product.model }}
                    </div>
                    <div
                      [attr.data-testid]="'cart-variant-' + i"
                      class="text-secondary"
                    >
                      {{ product.variant }}
                    </div>
                  </div>
             </div>
            </div>
            <div class="col-md-7 my-3 my-md-0 p-0 p-sm-1">
              <div class="d-flex justify-content-between align-items-center">
                  <div class="d-flex align-items-center">
                    <div class="d-flex">
                      <button
                        [attr.data-testid]="'cart-decrease-' + i"
                        class="p-1 px-3 border border-0 cursor-pointer bg-white fw-bold text-secondary"
                        (click)="decreaseQuantity(product)"
                        [disabled]="product.quantity <= 1"
                      >
                        -
                      </button>
                      <div
                        [attr.data-testid]="'cart-quantity-' + i"
                        class="p-1 px-3 border-start border-end fw-bold text-secondary"
                      >
                        {{ product.quantity }}
                      </div>
                      <button
                        [attr.data-testid]="'cart-increase-' + i"
                        class="p-1 px-3 border border-0 cursor-pointer bg-white fw-bold text-secondary"
                        (click)="increaseQuantity(product)"
                        [disabled]="product.quantity >= 5"
                      >
                        +
                      </button>
                    </div>
                  </div>
                  <div
                    class="text-center"
                    [attr.data-testid]="'cart-quantity-price-' + i"
                  >
                    {{
                      product.price * product.quantity
                        | currency : "USD" : "symbol" : "1.0-0"
                    }}
                  </div>
                  <div
                    [attr.data-testid]="'cart-delete-product-' + i"
                    class=""
                    (click)="deleteItem(product.id)"
                  >
                    <i class="bi bi-trash-fill text-danger cursor-pointer"></i>
                  </div>
              </div>
            </div>
          </div>
  
          <div class="row rounded bg-white my-2 p-2 mx-2 mx-md-0">
            <div class="col-md-8 d-flex align-items-center">
              <div data-testid="cart-order-total">
                Order Total : {{ totalAmount | currency : "USD" }}
              </div>
              <button
                data-testid="cart-pay-now-btn"
                class="btn my-2 text-light mx-3"
                type="button"
                (click)="buyItem()"
              >
                Buy Now
              </button>
            </div>
            <div class="col-md-4 text-end">
              <button
                data-testid="cart-order-placed"
                class="btn btn-light my-2 text-white"
                type="button"
                (click)="clearCart()"
              >
                Clear Cart
              </button>
            </div>
          </div>
        </div>
  
        <div *ngIf="products.length === 0 && !isBuy">
          <div
            class="bg-white d-flex flex-column align-items-center justify-content-center p-4"
          >
            <h1 data-testid="cart-empty">Your Cart is Empty</h1>
            <button
              class="btn my-2 text-light"
              
              type="button"
              routerLink="/"
            >
              Shop now
            </button>
          </div>
        </div>
  
        <div *ngIf="isBuy">
          <div
            class="bg-white d-flex flex-column align-items-center justify-content-center p-4"
          >
            <h1>Your Order is Placed</h1>
            <button
              class="btn my-2 text-light"
              type="button"
              routerLink="/"
            >
              Shop now
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  